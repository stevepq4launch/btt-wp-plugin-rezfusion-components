(self.webpackChunkrezfusion_components=self.webpackChunkrezfusion_components||[]).push([[933,80,437],{4564:(e,t,a)=>{"use strict";var r=a(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(r,u,l):r[u]=e[u]}return r.default=e,a&&a.set(e,r),r}(a(7294)),u=r(a(5697)),l=r(a(9163)),o=r(a(5936)),d=r(a(3452));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}const f=l.default.input.withConfig({displayName:"Coupon__StyledInput",componentId:"sc-a7f5cb-0"})(["height:",";border:",";border-radius:",";background-color:",";width:100%;margin:1em 0;padding:0 1em;"],(e=>e.theme.buttonHeight),(e=>e.theme.border),(e=>e.theme.borderRadius),(e=>{switch(e.status){case!0:return"#ecffc9";case!1:return"#ffd3c9";default:return"initial"}})),c=(0,l.default)(o.default).withConfig({displayName:"Coupon__StyledButton",componentId:"sc-a7f5cb-1"})(["width:100%"]),s=l.default.p.withConfig({displayName:"Coupon__StyledP",componentId:"sc-a7f5cb-2"})(["color:#ff3a3a;"]),p=(e,t)=>a=>{a.preventDefault(),t(e)},m=({buttonText:e,className:t})=>{const{promoCode:a,setPromoCode:r,promoStatus:u}=(0,n.useContext)(d.default),[l,o]=(0,n.useState)(a||"");return n.default.createElement("form",{onSubmit:p(l,r),className:t},n.default.createElement("label",{htmlFor:"bt-coupon-code"},n.default.createElement(f,{id:"bt-coupon-code",placeholder:"Promo Code",type:"text",value:l,onChange:e=>{e.preventDefault(),o(e.target.value)},status:u})),n.default.createElement(c,{onClick:p(l,r)},e),!1===u?n.default.createElement(s,null,"Promo code was invalid"):null)};t.default=m,m.propTypes={className:u.default.string,buttonText:u.default.string},m.defaultProps={className:"",buttonText:"Submit"}},7265:(e,t,a)=>{"use strict";var r=a(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(4942)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(r,u,l):r[u]=e[u]}return r.default=e,a&&a.set(e,r),r}(a(7294)),l=r(a(5697)),o=r(a(381)),d=r(a(9163)),i=a(7124),f=r(a(3452)),c=r(a(4564)),s=r(a(2719)),p=r(a(6567)),m=r(a(8291)),b=r(a(2282)),y=r(a(2267)),g=r(a(9644));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const P=(0,d.default)(y.default).withConfig({displayName:"SearchForms__StyledBookButton",componentId:"sc-178y0s6-0"})(["width:100%;"]),w=(0,d.default)(b.default).withConfig({displayName:"SearchForms__StyledGuestsDialogContent",componentId:"sc-178y0s6-1"})(["width:100%;margin:1em 0;& > button{width:100%;}"]),j=e=>{const{availOptions:t,anchorDirection:a,remoteId:r}=e,{settings:{guid:n,components:{SearchProvider:{channels:l},AvailabilitySearchConsumer:{spsDomain:o,confirmationPage:d,options:b},Checkout:{options:{exposePromo:y}}}}}=(0,u.useContext)(g.default),{quoteLoading:h,quoteError:O,orderQuote:j,dates:C,setDates:D,guests:_,setGuests:q,type:E}=(0,u.useContext)(f.default),[S,k]=(0,u.useState)(!1);let x=null;if(h)x=u.default.createElement(p.default,null);else if(O)x=u.default.createElement("p",null,"An error occurred while fetching quotes.");else if(j)if(j.total&&Array.isArray(j.charges)&&j.charges.length){const{total:e,currency:t,tax:a,charges:f}=j;x=u.default.createElement(u.default.Fragment,null,u.default.createElement("section",{className:"avail-quotes bt-avail-quotes"},u.default.createElement(m.default,{total:e,currency:t,tax:a,charges:f})),u.default.createElement(P,{label:"Book now",params:{rcav:{begin:(0,i.formatDate)(C.begin),end:(0,i.formatDate)(C.end),adult:`${_.adult}`,child:`${_.child}`}},type:E,channel:l,provider:j.provider,source:j.source,guid:n,spsDomain:o,confPage:d,remoteId:r}))}else x=u.default.createElement(u.default.Fragment,null,u.default.createElement("p",null,"Could not get a quote for selected dates."),u.default.createElement("p",null,"Displayed availability and prices might be out of date."));const R=v(v({},t),b);return u.default.createElement("div",null,u.default.createElement(s.default,{options:R,type:"DateRangePicker",handleDatesChange:(e,t)=>{`${e}`==`${C.begin}`&&`${t}`==`${C.end}`||D({begin:e,end:t})},rcav:{begin:C.begin,end:C.end},anchorDirection:a}),u.default.createElement(w,{adultCount:_.adult,childCount:_.child,id:"item-avail-form",isOpen:S,handleApply:(e,t)=>{e===_.adult&&t===_.child||q({adult:e,child:t}),k(!1)},handleToggle:()=>{k(!S)}}),y?u.default.createElement(c.default,null):null,x)};t.default=j,j.propTypes={anchorDirection:l.default.oneOf(["left","right"]),availOptions:l.default.shape({avail:l.default.arrayOf(l.default.exact({begin:l.default.instanceOf(o.default).isRequired,end:l.default.instanceOf(o.default).isRequired,available:l.default.bool,quantity:l.default.number,status:l.default.bool,extra:l.default.string})),availTurnoverBlocks:l.default.arrayOf(l.default.exact({begin:l.default.instanceOf(o.default).isRequired,end:l.default.instanceOf(o.default).isRequired,status:l.default.oneOf(["C","I","X","O"])})),restrictions:l.default.arrayOf(l.default.exact({begin:l.default.instanceOf(o.default).isRequired,end:l.default.instanceOf(o.default).isRequired,minStay:l.default.number,maxStay:l.default.number,increment:l.default.number,turnDay:l.default.arrayOf(l.default.oneOf([1,2,3,4,5,6,7]))})),prices:l.default.arrayOf(l.default.exact({begin:l.default.instanceOf(o.default).isRequired,end:l.default.instanceOf(o.default).isRequired,minStay:l.default.number,maxStay:l.default.number,price:l.default.number.isRequired,type:l.default.number.isRequired,currency:l.default.string,source:l.default.string.isRequired,provider:l.default.string.isRequired})),block:l.default.bool,dateFormat:l.default.string}).isRequired,remoteId:l.default.string.isRequired},j.defaultProps={anchorDirection:null}},3452:(e,t,a)=>{"use strict";var r=a(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(a(7294)).default.createContext();t.default=n},6567:(e,t,a)=>{"use strict";var r=a(5318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}});var n=r(a(2299))},4080:()=>{}}]);