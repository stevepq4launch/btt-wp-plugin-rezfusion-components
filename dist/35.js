"use strict";(self.webpackChunkrezfusion_components=self.webpackChunkrezfusion_components||[]).push([[35],{5035:(e,t,r)=>{var a=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.defaultFlaggerCallback=t.useFlaggable=t.useFlaggableDispatch=t.useFlaggableState=t.default=void 0;var n=a(r(4942)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}(r(7294)),l=a(r(5697)),o=r(7124);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const i={flagged:{}},d=(0,u.createContext)(),g=(0,u.createContext)(i),p=(e,t)=>{const{type:r,namespace:a,value:n}=t,{flagged:u}=e,l=u&&u[a]||[];switch(r){case"REMOVE_ITEM":return f(f({},e),{},{flagged:f(f({},u),{},{[a]:l.filter((e=>e!==n))})});case"ADD_ITEM":const t=[...new Set([...l,n])];return f(f({},e),{},{flagged:f(f({},u),{},{[a]:t})});case"SET_ITEMS":return f(f({},e),{},{flagged:f(f({},u),{},{[a]:n})});default:return e}};t.reducer=p;const b=({children:e,defaultState:t,setItems:r,namespace:a})=>{const[n,l]=(0,u.useReducer)(p,t),{flagged:o}=n,s=o&&o[a]||[];return(0,u.useEffect)((()=>{r(a,s)})),u.default.createElement(g.Provider,{value:n},u.default.createElement(d.Provider,{value:l},e))};t.default=b,b.propTypes={children:l.default.oneOfType([l.default.array,l.default.node]).isRequired,defaultState:l.default.shape({flagged:l.default.object}),namespace:l.default.string.isRequired,setItems:l.default.func},b.defaultProps={defaultState:i,setItems:o.setItems};const O=()=>{const e=(0,u.useContext)(g);if(void 0===e)throw new Error("useFlaggableState must be used within a FlaggableProvider");return e};t.useFlaggableState=O;const y=()=>{const e=(0,u.useContext)(d);if(void 0===e)throw new Error("useFlaggableDispatch must be used within a FlaggableProvider");return e};t.useFlaggableDispatch=y,t.useFlaggable=()=>[O(),y()],t.defaultFlaggerCallback=(e,t,r,a)=>{const{flagged:n}=r;a({type:-1!==(n&&n[t]||[]).indexOf(e)?"REMOVE_ITEM":"ADD_ITEM",namespace:t,value:e})}}}]);